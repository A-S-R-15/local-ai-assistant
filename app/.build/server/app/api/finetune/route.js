"use strict";(()=>{var e={};e.id=762,e.ids=[762],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1946:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>f,patchFetch:()=>j,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var r={};s.r(r),s.d(r,{GET:()=>p,POST:()=>c,dynamic:()=>u});var n=s(921),a=s(7380),o=s(4185),i=s(3878);let u="force-dynamic";async function c(e){try{let{action:t,data:s}=await e.json();if("start"===t){let{modelName:e,trainingData:t,parameters:r={},baseModel:n="gpt-3.5-turbo"}=s;if(!e||!t)return i.NextResponse.json({success:!1,error:"Model name and training data are required"},{status:400});let a={id:`ft-${Date.now()}`,modelName:e,baseModel:n,status:"queued",progress:0,trainingDataSize:Array.isArray(t)?t.length:0,parameters:{epochs:r.epochs||3,learningRate:r.learningRate||1e-4,batchSize:r.batchSize||16,...r},createdAt:new Date().toISOString(),estimatedCompletion:new Date(Date.now()+36e5).toISOString()};return i.NextResponse.json({success:!0,job:a,message:"Fine-tuning job created successfully"})}if("upload"===t){let{file:e,format:t="jsonl"}=s,r={fileId:`file-${Date.now()}`,filename:e.name||"training_data.jsonl",size:e.size||0,format:t,status:"uploaded",validationResults:{valid:!0,samples:100,errors:[]}};return i.NextResponse.json({success:!0,upload:r})}return i.NextResponse.json({success:!1,error:"Invalid action"},{status:400})}catch(e){return console.error("Fine-tune API error:",e),i.NextResponse.json({success:!1,error:"Fine-tuning operation failed"},{status:500})}}async function p(e){try{let{searchParams:t}=new URL(e.url),s=t.get("jobId");if(s)return i.NextResponse.json({success:!0,job:{id:s,status:"training",progress:65,currentEpoch:2,totalEpochs:3,loss:.234,accuracy:.892,estimatedTimeRemaining:"25 minutes"}});return i.NextResponse.json({success:!0,jobs:[{id:"ft-1234567890",modelName:"custom-assistant-v1",status:"completed",progress:100,createdAt:"2024-01-01T00:00:00Z",completedAt:"2024-01-01T01:30:00Z"}]})}catch(e){return console.error("Fine-tune status error:",e),i.NextResponse.json({success:!1,error:"Failed to retrieve fine-tuning status"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/finetune/route",pathname:"/api/finetune",filename:"route",bundlePath:"app/api/finetune/route"},resolvedPagePath:"/home/ubuntu/local_ai_assistant_v3/app/app/api/finetune/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g}=l,f="/api/finetune/route";function j(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[923,146],()=>s(1946));module.exports=r})();